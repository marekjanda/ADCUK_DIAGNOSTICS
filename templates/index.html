<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">       

        <title>ADC UK Diagnostics</title>

        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css' ) }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/customize-presets.css' ) }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/p1.css' ) }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/p2.css' ) }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/p3.css' ) }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/p4.css' ) }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/p5.css' ) }}">

        <script type="text/javascript" src="{{ url_for('static', filename='JS/knob.js' ) }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='JS/p1.js' ) }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='JS/p2.js' ) }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='JS/p3.js' ) }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='JS/p4.js' ) }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='JS/p5.js' ) }}"></script>
        <link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=Lekton:400italic' rel='stylesheet' type='text/css'>
        <link href="http://fonts.googleapis.com/css?family=Titillium+Web:400,600,400italic,700" rel="stylesheet"
            type="text/css">
        <style>
            .p1 circle {
                filter: url(#dropshadow);
            }

            .p3 path {
                filter: url(#inner-shadow)
            }

            .p6 text {
            font-size: 16px !important;
            fill: #57C7B6;
            font-weight: 300;
            }

        </style>
    </head>
<body>

<h2>ADC UK Diagnostics Tool</h2>
<p>Single Screw Compressor Diagnostiscs</p>
<ul class="row">
    <li class="column">
        <p><h3>Select main symptom</h3></p>
        <input class="preset5" id="MainCause" type="range" data-width="600" data-height="600" data-angleOffset="128" data-angleRange="310" data-labels="Symptom1,Symptom2,Symptom3, Symptom4,Symptom5,Symptom6,Symptom6" />
    </li>    
    
    <li class="column">
        <p><h3>Select secondary symptom</h3></p>
        <input class="preset1" id="SecondaryCause" type="range" data-width="600" data-height="600" data-angleOffset="270" data-angleRange="180" data-labels="test1,test2,test3,test4,text5,text6" />
    </li>

</ul>
<ul class="row">
    <li class="column"><button id='start' onclick="alertvalue()">Diagnose</button></li>
</ul>


<script type="text/javascript">
Ui.P6 = function() {};

Ui.P6.prototype = Object.create(Ui.prototype);

Ui.P6.prototype.createElement = function() {
  Ui.prototype.createElement.apply(this, arguments);  
  this.addComponent(new Ui.Pointer({
    type: 'Arc',
    size: 40,
    outerRadius: this.width / 2.6,
    innerRadius: this.width / 2.6 - this.width / 7,
    angleoffset: this.options.angleoffset
  }));
  // this.addComponent(new Ui.Text());
  this.addComponent(new Ui.Scale(this.merge(this.options, {
    drawScale: false,
    drawDial: true,
    radius: this.width/2.5
  })));
  var circle = new Ui.El.Circle(this.width / 2.1, this.width / 2, this.height / 2);
  this.el.node.appendChild(circle.node);
  this.el.node.setAttribute("class", "p5 p6");
};

new Knob(document.getElementById('p6'), new Ui.P6());    

</script>


<script type="text/javascript">

    /**
     * Just a lazy way to convert all inputs into knobs.
     * Normally you would write `new Knob(document.getElementById('someIdHere'), new Ui.P1());` to create a knob.
     */

    //Alert selection
    function alertvalue() {
        let mainCause = document.getElementById('MainCause');
        let secondaryCause = document.getElementById('SecondaryCause');
        alert("Main Cause: " + mainCause.value + "\n" + "Secondary Cause: " + secondaryCause.value);
    }
    

    for (var i = 1; i < 6; i++) {
        Array.prototype.slice.call(document.getElementsByClassName('preset' + i)).forEach(function(el) {
            new Knob(el, new Ui['P' + i]());
            el.addEventListener('change', function  () {
              console.log(el.value)
            })
            
        })
    }

    /**
     * Create a simple slider with just a scale
     */
    var ScaleExample = function() {};

    ScaleExample.prototype = Object.create(Ui.prototype);

    ScaleExample.prototype.createElement = function() {

        Ui.prototype.createElement.apply(this, arguments);
        this.addComponent(new Ui.Scale({
            drawScale: true,
            drawDial: false,
            steps: 30,
            tickWidth: 10,
            tickHeight: 10,
            type: 'Triangle'
        }));
        this.el.node.setAttribute("class", "scaleExample");
    }

    new Knob(document.getElementsByClassName('scaleExample')[0], new ScaleExample());

    /**
     * Create a simple slider with just a dial
     */
    var DialExample = function() {};

    DialExample.prototype = Object.create(Ui.prototype);

    DialExample.prototype.createElement = function() {

        Ui.prototype.createElement.apply(this, arguments);
        this.addComponent(new Ui.Scale({
            drawScale: false,
            drawDial: true,
            steps: 10
        }));
        this.el.node.setAttribute("class", "dialExample");
    };
    new Knob(document.getElementsByClassName('dialExample')[0], new DialExample());

    /**
     * Create a simple slider with just a pointer
     */
    var PointerExample = function() {};

    PointerExample.prototype = Object.create(Ui.prototype);

    PointerExample.prototype.createElement = function() {

        Ui.prototype.createElement.apply(this, arguments);
        this.addComponent(new Ui.Pointer({
            type: 'Circle',
            pointerWidth: 3,
            pointerHeight: this.width / 5,
            offset: this.width / 2 - this.width / 3.3 - this.width / 10
        }));
        this.el.node.setAttribute("class", "pointerExample");
    };
    new Knob(document.getElementsByClassName('pointerExample')[0], new PointerExample());

    /**
     * Create a simple slider with just an acr
     */
    var Arcxample = function() {};

    Arcxample.prototype = Object.create(Ui.prototype);

    Arcxample.prototype.createElement = function() {

        Ui.prototype.createElement.apply(this, arguments);
        this.addComponent(new Ui.Arc({
            arcWidth: this.width / 10
        }));
        this.el.node.setAttribute("class", "arcExample");
    };
    new Knob(document.getElementsByClassName('arcExample')[0], new Arcxample());

</script>


<svg>
    <filter id="dropshadow" height="150%" width="150%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="2"/>
        <feOffset dx="0" dy="3" result="offsetblur"/>
        <feMerge>
            <feMergeNode/>
            <feMergeNode in="SourceGraphic"/>
        </feMerge>
    </filter>
    <filter id='inner-shadow'>

        <!-- Shadow Offset -->
        <feOffset
                dx='0'
                dy='5'
                />

        <!-- Shadow Blur -->
        <feGaussianBlur
                stdDeviation='5'
                result='offset-blur'
                />

        <!-- Invert the drop shadow
             to create an inner shadow -->
        <feComposite
                operator='out'
                in='SourceGraphic'
                in2='offset-blur'
                result='inverse'
                />

        <!-- Color & Opacity -->
        <feFlood
                flood-color='black'
                flood-opacity='0.75'
                result='color'
                />

        <!-- Clip color inside shadow -->
        <feComposite
                operator='in'
                in='color'
                in2='inverse'
                result='shadow'
                />

        <!-- Put shadow over original object -->
        <feComposite
                operator='over'
                in='shadow'
                in2='SourceGraphic'
                />
    </filter>
</svg>
</body>
</html>
